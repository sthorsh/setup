BIG PICTURE

Container model
  N containere (VM: N OS)
  1 container engine (VM: N VMs)
  1 [host] OS (VM: 1 hypervisor)
  1 server: CPU, RAM, fs, disk, I/O
  
---------------------
OPPSUMMERT: isolasjon
  • default
  + capabilities
  + cgroups
  + [kernel] namespaces
  
--------------------
CONTAINER [RUNTIME]

Definisjon
  En container er en (eller flere) prosess(er)
  En container er en (eller flere) prosess(er) + isolasjon
  En container er et vrituelt OS: eget prosesstre, fs, nettverk etc

Default isolasjon
  Prosess: "egen" CPU
  Virtuelt adresserom: "eget" fysisk minne
  Prosess → bruker → privilegier (privileged/unprivileged)

Opt-in isolasjon
  1979: chroot isolerer /
  1999: capabilities isolerer privilegier
  1999: AppArmor
  1999: SELinux
  2002: mount namespace isolerer mount points: $ mount
  2006: cgroup isolerer ressurser (cpu, memory, devices, io)
  2006: UTS namespace isolerer hostname: $ hostname
  2006: IPC namespace isolerer IPC-objekter: $ ipcs
  2008: network namespace isolerer nettverk: $ ip a
  2008: PID namespace isolerer PS ids: $ ps -efj
  2008: user namespace isolerer UIDs og GIDs: $ cat /etc/passwd

Namespace
  Abstraksjon for en global systemressurs
  Per default: globalt/host/root namespace
  E.g container: eget/nytt/separat namespace
  Tenk på det som en per-prosess(gruppe) liste
  Tenk på det som en per-prosess(gruppe) database

Container og isolasjon
  Default: ✓
  Mount namespace: $ sudo unshare -m bash
  UTS namespace: ± 
  IPC namespace: ± 
  Network namespace: ± 
  PID namespace: ± 
  User namespace: ± 
  Cgroup: ± 
  Capabilities: ± 
  AppArmor: ± 
  SELinux: ± 

