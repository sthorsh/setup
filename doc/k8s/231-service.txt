SERVICE

Service
  Et rest objekt i k8s api

Funksjon
  Et pålitelig (ip, dns, port) endepunkt for N pods (endpoints)
  Lastbalansering over endpoints/pods
  + pluss noe mer?

Tilgang
  Tilgang₁: fra inni clusteret feks andre pods
  Tilgang₂: fra utenfor clusteret feks browser

Tilgang₁
  IP: fast
  DNS: fast, samme som service name
  Port: fast

Tilgang₂
  IP: ?
  DNS: ?
  Port: cluster-wide TCP port ?

Pluss noe mer
  ...
--------------------------------------------------
Service objekt
  IP: 10.0.0.5 (fast)
  DNS: db.myservice (fast)
  Port: 8080/TCP
  NodePort: 31522/TCP (cluster-wide)
  Label selector: prod:backend:1.2.3
  Type: ClusterIP, NodePort, LoadBalancer
  ...

Discovery
  DNS (default)
  Environment variables
  
Endepunkter
  Pods i service
  Feks: 172.17.0.4:8080

  $ kubectl describe svc hello-svc
    Name:                     hello-svc
    Namespace:                default
    Labels:                   app=hello-world
    Annotations:              <none>
    Selector:                 app=hello-world
    Type:                     NodePort
    IP:                       10.101.30.241 (virtual IP)
    Port:                     <unset>  8080/TCP
    TargetPort:               8080/TCP
    NodePort:                 <unset>  31522/TCP (cluster-wide port)
    Endpoints:                172.17.0.4:8080,172.17.0.5:8080
    Session Affinity:         None
    External Traffic Policy:  Cluster
    Events:                   <none>
  
