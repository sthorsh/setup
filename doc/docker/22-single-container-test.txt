SINGLE-CONTAINER TEST

Jenkins job
  Name
    Docker_test_job

  Workspace
    localhost:8080/job/Docker_test_job/ws/
    /var/jenkins_home/jobs/${JOB_NAME}/workspace
  
  Git project
    github.com/turnbullpress/docker-jenkins-sample

  Build step: bash script
    • docker build ...  (using Dockerfile in github repo)
    • capture image ID
    • docker run ... (run ruby rspec tests)
    • capture container ID
    • docker attach ... (echo test output to Jenkins job)
    • docker wait ... (block until rake spec is done)
    • capture exit code
    • docker rm ... (remove container)
    • exit build step with exit code   

  Post-build action
    Publish JUnit test result report

Enabling SCM polling
  TODO
