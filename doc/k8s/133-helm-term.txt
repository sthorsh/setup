HELM TERMs

Helm
  Pakkemanager for k8s (fig)
  Gjør det enkelt å installere apps/ressurser i k8s cluster

  Versjonering
    Gruppe → pakke (→ arkiv)
    Install pakke → release <VERSJON>
    Revision: teller
    Versjon: semver ...

Chart
  En pakke
  En enhet/entitet for >1 ressursdefs
  Inneholder
    • manifest (Chart.yaml)
    • ressursdefs (templates)
    • default verdier (values.yaml)
    • avhengigheter (charts)
  Katalogstruktur
    Ett chart, ressursdefs (plain chart)
    Ett parent chart, subcharts, ressursdefs (umbrella chart)

Chart #2
  Et katalogstruktur (exploded chart)
  Et arkiv e.g frontend-1.2.2.tgz (packaged chart)
  Cf def https://v3.helm.sh/docs/topics/architecture/

Chart struktur #2
  Ett chart, N objekter (standalone chart)
  Ett parent chart, M subcharts, N objekter (umbrella chart)

Archive
  Et tarred og gzipped (og evt signert) helm chart

Release
  En kjørende instans av et chart
  Kombinert med en bestemt konfigurasjon
  Cf https://v3.helm.sh/docs/topics/architecture

Versjonering av ...
  Gruppe → chart → [arkiv →] release
  Install pakke → release <VERSJON>
  Revision: teller
  Versjon: semver ...

Helm chart deps
  Subcharts
  Eksterne charts

Helm chart templates
  En mal for et manifest
  En template engine prosesserer malen
  Direktiver ersattes med data (values)
  Direktiver ersattes med kode (logikk)
  Template engine output'er et manifest
  Cf https://v3.helm.sh/docs/chart_template_guide/

Repository
    E.g https://kubernetes-charts.storage.googleapis.com/

Hub
  Cf https://hub.helm.sh

---------------------------------------------------
ARKITEKTUR

Arkitektur (fig)
  Klient
  Bibliotek

Helm Library (or SDK)
  The Helm Library (or SDK) refers to the Go code that interacts directly with the Kubernetes API server to install,
  upgrade, query, and remove Kubernetes resources. It can be imported into a project to use Helm as a client library
  instead of a CLI.

---------------------------------------------------
HELM 3 VS HELM 2
  Arkitektur: fjernet Tiller
  Kommandolinjer: evt forskjeller
  Chart-struktur: evt forskjeller
  Helm 2 charts skal være kompatible med Helm 3
  URLs: https://v3.helm.sh, https://v2.helm.sh

---------------------------------------------------
HVORFOR HELM
  Forenkling vs kubectl
  Versjonshåndtering
  Fleksibilitet (templates)
  Avhengighetshåndtering
  Gjenbruk av stabile charts
