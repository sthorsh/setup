FORTOLKNING

Leser input
  • interaktivt: readline/history (fra terminalen)
  • ikke-interaktivt: egne bash-funksjoner (fra filer/script, pipes)
  • som arg til bash: bash -c "command_string"

  GNU readline library
    Leser tegn fra terminalen
    En <newline> markerer EOL (terminator)
    Output: kommandolinje (sekvens med tegn)

  GNU history library
    Ekspanderer !
    Skriver linje til ~/.bash_history
    Output: kommandolinje (sekvens med tegn)

Lexer
  Input: kommandolinje (sekvens med tegn)
  Tokeniserer input (line splitting)
  Klassifiserer tokens: (type)
  Evt evaluerer tokens: (type, verdi)
  Ekspanderer alias (og tokeniserer på nytt)
  Output: kommandolinje (sekvens med tokens)
    
Parser
  Parser tokens:
    • kommandoer
    • variabeltilordninger
    • omdirigeringer
  Gir melding om evt syntaksfeil
  Output: kommandolinje (parse-/syntakstre)
    
Makroprosessor
  Ekspanderer {}
  Ekspanderer ~
  Ekspanderer $param OR ${param}
  Ekspanderer $(command)
  Ekspanderer $((expression))
  Ekspanderer <(list) OR >(list)
  Splitter felt i ord vha IFS (word splitting)
  Ekspanderer filnavn
  Fjerner quoting
  Output: kommandolinje (parse-/syntakstre)
    
Utførelse
  Utfører omdirigeringer
    Ekspanderer RHS
    Utfører omdirigeringer
    Fjerner operatorer/operander
  Utfører variabeltilordninger
    Ekspanderer RHS
    Utfører tilordninger
  Søker kommando
  Utfører kommando

Jobbkontroll
  Interaktivt kontrollere jobber
    
Fullførelse
  Opphever omdirigeringer
  Eksponerer exit status 0...255

