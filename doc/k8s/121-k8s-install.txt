K8S INSTALL

VirtualBox
  New → create virtual machine (c1-node3)
  c1-node3 Settings → Storage → Controller: IDE (empty)
  c1-node3 Settings → Network → Adapter 2 (vboxnet0)
  c1-node3 Start (ubuntu-18.04.4-live-server-amd64.iso)
  Reboot → login
  $ apt-get update && apt-get -y upgrade
  $ cd /etc/netplan (static ip)
  c1-node3 Close; Start → Headless Start
  svein@blackbox[~]$ ssh-copy-id -i ~/.ssh/id_rsa.pub svein@c1-node3
  svein@blackbox[~]$ scp .bashrc svein@c1-node3:/home/svein
  svein@blackbox[~]$ scp .vimrc svein@c1-node3:/home/svein
  svein@blackbox[~]$ scp .vim/colors/wombat256.vim svein@c1-node3:/home/svein/.vim/colors/
  c1-node3[~]$ git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
  ...

Install c1-master1
  Install docker
    docker.io

  Install k8s
    kubelet
    kubectl
    kubeadm

  Sjekk svc status
    docker.service: ✓
    kubelet.service: x

Init c1-master1
  $ kubeadm init ...
    Pre-flight checks: permissions, resources, docker mm
    Konfig sertifikater: /etc/kubernetes/pki/
  ✓ Konfig kubeconfig: /etc/kubernetes/*.conf
    Konfig statiske pod manifest: /etc/kubernetes/manifests/
    Start master: api, controller-manager, scheduler, etcd
    Taint master: will exec system pods only
    Create bootstrap token: for joining nodes
    Start addon-pods: dns pods, kube-proxy pod
  → Your Kubernetes master has initialized succesfully!

  Konfig admin aksess
    For kubectl → API-server

  Apply pod nettverk 
    Cf calico

Install-join c1-node1
  Cf Pluralsight: adding a node to your cluster

