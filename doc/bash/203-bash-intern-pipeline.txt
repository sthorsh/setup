BASH INTERN PIPELINE

Inputprosessor
  Input: tegn fra terminalen eller en fil (eller en streng)
  Terminalen: readline read/dispatch/execute/redisplay loop
  Fil: bash buffered input package (foretrukket) eller stdio
  Output: en linje med (strøm av, buffer med) tegn terminert med newline

Lexer
  Input: en linje med tegn
  Deler opp linje i tokens ved metategn (tokenisering)
  Klassifiserer tokens iht grammatikken (klassifisering)
  Beskytter tegn og ord med \, '' og "" (escaping, quoting)
  > Ekspanderer event ! 
  Ekspanderer alias 
  Output: en strøm av tokens
  E.g: the lexer classifies the word as a redirection containing a variable assignment

Parser
  Input: en strøm av tokens
  Setter sammen tokens til setninger og kommandoer
  The parser constructs objects corresponding to the various compound commands and interprets them by traversing the object
  Rapporterer syntax error ved evt syntaktiske feil
  ?: representerer assignments
  Command objects: representerer kommandoer
  Redirection objects: representerer redirigeringer
  Command structure: datastruktur med command objects og redirection objectst
  Output: command structure + en eller flere liste(r) med ord
  E.g: the parser creates the redirection object with a flag indicating assignment is required

Makroprosessor
  Input: liste(r) med ord
  Ekspanderer braces, ..., globbing
  Ekspanderer braces, ..., globbing
  Ekspanderer braces, ..., globbing
  Ekspanderer braces, ..., globbing
  Ekspanderer braces, ..., globbing
  Ekspanderer braces, ..., globbing
  Ekspanderer braces, ..., globbing
  Ekspanderer braces, ..., globbing
  Fjerner escapetegn og quotes i ord
  Output: liste(r) med ekspanderte ord

Execution
  Input: the command structure built by the parser and a set of possibly-expanded words
  Utføre redirigering
  Utføre enkeltkommandoer inkl variabeltilordninger
  Utføre andre kommandoer
  Utføre jobbkontroll (signaler)
  E.g: the redirection code interprets the flag and ensures that the file descriptor number is assigned to the correct variable

Completion
  Oppheve redirigering
  Eksponere exit status 0..255 som $?

