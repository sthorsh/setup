OMDIRIGERING

Syntaks
  cmd < f             open f for read; bruk f som stdin
  cmd << EOL          bruk N lines of text som stdin
  cmd <<< "..."       bruk single line of text som stdin

  cmd > f             open f for write; send stdout til f
  cmd > /dev/null     open bit bucket for write; send stdout til bit bucket
  cmd >| f            open f for overwrite; send stdout til f
  cmd >> f            open f for append; send stdout til f

  cmd 2> f            open f for write; send stderr til f
  cmd > f 2>&1        ...; dup stderr to be a copy of stdout

    exec 3< fil         open fd3 read fil
    read -n 5 var <&3   read dvs stdin dup fd3
    exec 3<&-           close fd3 dvs fd3 "copy" -

    exec 3> fil         open fd3 write fil 
    echo foo >&3        write dvs stdout dup fd3
    exec 3>&-           close fd3 dvs fd3 "copy" -

    exec 3<>fil         open fd3 read-write fil 

    cmd₁ | cmd₂         cmd₁-stdout write cmd₂-stdin
    cmd₁ |& cmd₂        cmd₁-stdout write cmd₂-stdin; cmd₁-stderr write cmd₂-stdin
    ...

Prosess, stream, fildeskriptor
  En UNIX-prosess
  Tre standard I/O-streams: stdin, stdout, stderr
  Tre standard fildeskriptorer: 0, 1, 2
  Non-standard I/O streams: fildeskriptor 3...255

Fildeskriptor, modus, fil
  Per-prosess fildeskriptortabell: lsof -p $$
  System-wide filtabell: r, u, w, ... (modus)
  System-wide inodetabell: ls -i filename (filer)
    
Når Bash starter
  0 → u → /dev/pts/1 (pseudoterminal)
  1 → u → /dev/pts/1 (pseudoterminal)
  2 → u → /dev/pts/1 (pseudoterminal)
  ...

Omdirigering
  [fd]op[fd]    
  
Omdirigeringsoperator (op)
  < input redirection operator 
  > output redirection operator
  ...
  
Når Bash kjører kommando
  Bash fork'er barnprosess
  Barnet arver fd's fra bash 
  Bash setter opp omdirigeringer
  Bash kjører kommandoen m/omdirigeringer

Systemkall
  open, close, read, write, dup, ...

