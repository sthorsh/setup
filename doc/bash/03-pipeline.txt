PIPELINE

Prosessere input
  Input: tegn fra terminalen eller en fil (eller en streng)
  Terminalen: readline read/dispatch/execute/redisplay loop
  Fil: bash buffered input package (foretrukket) eller stdio
  Output: en linje med (strøm av, buffer med) tegn terminert med newline

Lexer
  Input: en linje med tegn
  Deler opp linje i tokens ved metategn (tokenisering)
  Klassifiserer tokens iht grammatikken (klassifisering)
  Beskytter tegn og ord med \, '' og "" (escaping, quoting)
  > Ekspanderer event ! 
  Ekspanderer alias 
  Output: klassifisert token-for-token

Parser
  Input: klassifisert token-for-token
  Setter sammen tokens til setninger og kommandoer (parsing)
  Output: en C struct(ure) som representerer en kommando (command objects, word lists)

--------------------------------------------------------------------
Ekspandere ord
  Input: command structure
  Ekspanderer braces, ..., globbing
  Output: 

--------------------------------------------------------------------

Execution
  Executes the specified command

  Redirigeringer
    Redirects input and output as needed
  
  Exit status
    Waits for the command’s exit status
  
    Makes that exit status available for further inspection or processing.

--------------------------------------------------------------------
--------------------------------------------------------------------
Parser tokens
  Variabeltilordning
  Redireksjoner
  Ord: cmd opts args

Prosesserer ord
  Ekspanderer krøllparantes etc
  Orddeling iht IFS (word splitting)
  Ekspanderer filnavn
  Quote removal: \ ' "

Redirigeringer
  Ref 51-redirigering

Variabeltilordning
  Ekspanderer rhs
  Fjerner \ ' "
  Tilordner verdi

Kjøring
  Kommandooppslag
  Execution environment
  Environment
  Kjører kommando
  Mottar signaler
  Avventer exit status 0..255
  Eksponerer exit status som $?

